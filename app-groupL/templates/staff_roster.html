{% extends 'base.html' %}

{% block header %}
<header>
    <div class="logo"><a href="{{ url_for('home') }}">Last Resort</a></div>
    <nav>
        <a href="{{ url_for('staff_roster') }}" class="active">Staff Roster</a>
        <a href="{{ url_for('card_management') }}">Card Management</a>
    </nav>
    <div class="userIcon">ðŸ‘¤</div>
</header>
{% endblock %}

{% block content %}
<div class="pageContent">
    <h2>Staff Roster</h2>
    
    <div class="pageDescription">
        <p>Manage and view all staff members at Last Resort. This comprehensive roster provides detailed information about each employee including their contact details, role, department, and employment status. Use this page to track staff assignments, review hiring dates, and monitor active personnel.</p>
    </div>
    
    <div class="actionBtn" style="margin-bottom: 20px;">
        <button class="btn" onclick="window.print()">Print Roster</button>
        <a href="{{ url_for('card_management') }}" class="btn">View Card Management</a>
    </div>
    
    <table class="dataTable">
        <thead>
            <tr>
                <th>Staff ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Role</th>
                <th>Department</th>
                <th>Hire Date</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            {% for s in staff %}
            <tr>
                <td>{{ s.staffId }}</td>
                <td>{{ s.firstName }} {{ s.lastName }}</td>
                <td>{{ s.email if s.email else 'N/A' }}</td>
                <td>{{ s.phone if s.phone else 'N/A' }}</td>
                <td>{{ s.role }}</td>
                <td>{{ s.department if s.department else 'N/A' }}</td>
                <td>{{ s.hireDate }}</td>
                <td>{{ 'Active' if s.isActive else 'Inactive' }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
    <div class="pageStats" style="margin-top: 20px; padding: 15px; background-color: #f5f5f5; border-radius: 5px;">
        <p><strong>Total Staff Members:</strong> {{ total_staff }}</p>
        <p><strong>Active Staff:</strong> {{ active_staff }}</p>
        <p><strong>Inactive Staff:</strong> {{ total_staff - active_staff }}</p>
    </div>
</div>
{% endblock %}
